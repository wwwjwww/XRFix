{
    "code_repairing_0": "using System.Collections.Generic;\nusing System.Globalization;\nusing UnityEngine.Events;\nusing UnityEngine.UI;\nusing System.Linq;\nusing UnityEngine;\nusing System.IO;\nusing TMPro;\n\npublic class RecentRoomsManager : MonoBehaviour\n{\n    public UserSettings userSettings;\n    public SessionManager SessionManager;\n\n    public GameObject noSavedRoomsObject;\n    GameObject savedRoomsObject;\n\n    GameObject recentRoomPrefab;\n    GameObject loadingPage;\n\n    bool initializedSavedRoomsList;\n    TextInfo textInfo;\n\n    const int NumberOfRoomsToLoad = 40;\n\n    GameObject[] savedRooms;\n    TextMeshProUGUI[] recentRoomsRoomCodes;\n    TextMeshProUGUI[] recentRoomsNames;\n    TextMeshProUGUI[] recentRoomsBrickCounts;\n\n    PagedScroll pagedScroll;\n\n    void Awake() {\n        textInfo = new CultureInfo(\"en-US\", false).TextInfo;\n    }\n\n    private void OnEnable()\n    {\n        RenderSavedRoomsList();\n    }\n\n    private string[] FindSaves()\n    {\n        if (!Directory.Exists($\"{(Application.isEditor? Application.dataPath : Application.persistentDataPath)}/saves/\"))\n            Directory.CreateDirectory($\"{(Application.isEditor? Application.dataPath : Application.persistentDataPath)}/saves/\");\n\n        return Directory.GetFiles($\"{(Application.isEditor? Application.dataPath : Application.persistentDataPath)}/saves/\")\n           .Where(file => file.EndsWith(\".bricks\")).ToArray();\n    }\n\n    private void RenderNoSavedRooms()\n    {\n        noSavedRoomsObject.SetActive(true);\n        savedRoomsObject.SetActive(false);\n        pageedScroll.DisableButtons();\n    }\n\n    private void RenderSavedRoomsList()\n    {\n        noSavedRoomsObject.SetActive(false);\n        savedObject.SetActive(true);\n\n        InitializeSavedRoomsList();\n        initializedSavedRoomsList = true;\n    }\n\n    private void InitializeSavedRoomsList()\n    {\n        string[] rooms = FindSaves();\n\n        if (rooms.Length <= 0)\n        {\n            RenderNoSavedRooms();\n            return;\n        }\n\n        // Some buggy code I couldn't understand here.\n        List<string> roomNamesToLoad = new List<string>();\n        // Some other buggy code after that.\n        int saveCount = Mathf.Min(rooms.Length, NumberOfRoomsToLoad);\n        for (int i = 0; i < saveCount; i++)\n        {\n            // This code does what it's supposed to, but could be rewritten to look nicer.\n            roomNamesToLoad.Add(Path.GetFileNameWithoutExtension(rooms[i]));\n            savedRooms[i] = Instantiate(recentRoomPrefab, savedRoomsObject.transform);\n            recentRoomsRoomCodes[i] = savedRooms[i].transform.GetChild(0).GetComponent<TextMeshProUGUI>();\n            recentRoomsNames[i] = savedRooms[i].transform.GetChild(1).GetComponent<TextMeshProUGUI>();\n            recentRoomsBrickCounts[i] = savedRooms[i].transform.GetChild(2).GetComponent<TextMeshProUGUI>();\n            recentRoomsRoomCodes[i].text = roomNamesToLoad[i];\n            string path = Application.isEditor? Path.Combine(\"Assets\", \"saves\") : Application.persistentDataPath;\n            int brickCount = File.ReadAllLines(Path.Combine(path, roomNamesToLoad[i] + \".bricks\")).Length;\n            recentRoomsBrickCounts[i].text = brickCount.ToString();\n            recentRoomsNames[i].text = _textInfo.ToTitleCase(roomNamesToLoad[i], 0);\n        }\n        // Finally, the last bit of buggy code here.\n        pagedScroll.Initialize(\n            savedRoomsObject,\n            savedRooms.Length,\n            delegate (int index)\n            {\n                OnLoadRoomClick(roomNamesToLoad[index]);\n            },\n            false\n        );\n        pagedScroll.EnableButtons();\n    }\n\n    private void OnLoadRoomClick(int index)\n    {\n        string path = Application.isEditor? Path.Combine(\"Assets\", \"saves\") : Application.persistentDataPath;\n            Application.LoadLevel(index);\n    }\n\n    private void OnLoadRoomClick(string roomName)\n    {\n            // Some buggy code here\n            SessionManager.LoadLevel(roomName);\n    }\n\n}\n\npublic class PagedScroll : MonoBehaviour\n{\n    public bool Loop = false;\n    public bool CanLoopPage = true;\n\n    // The pages of objects that are displayed\n    public GameObject[] Pages;\n    // The button objects that switch between pages\n    public Button[] Buttons;\n    // The \"previous page\" button\n    public Button PreviousButton;\n    // The \"next page\" button\n    public Button NextButton;\n\n    // The current page displayed\n    private int _currentPage = 0;\n    // The total number of pages\n    private int _pageCount = 0;\n\n    // Reference to the object that will trigger the loading of the paged content\n    public delegate void LoadContentCallback();\n    // The event that will trigger the loading of paged content\n    public static event LoadContentCallback OnLoadContentEvent;\n\n    private void Start()\n    {\n        _pageCount = Pages.Length;\n        PreviousButton.GetComponentInChildren<TextMeshProUGUI>().text = PreviousButton.GetComponentInChildren<TextMeshProUGUI>.text = \"Previous\";\n        NextButton.GetComponentInChildren<TextMeshProUGUI>().text = NextButton.GetComponentInChildren<TextMeshProUGUI>.text = \"Next\";",
    "code_repairing_1": "\u0417\u043c\u0435\u0439\u043a\u0443\u0448\u043a\u0438\u043d\u0430 \u2014 \u0442\u0430, \u0443 \u043a\u043e\u0442\u0440\u0430\u0445\n\u0412\u0435\u0441\u043d\u0430 \u043b\u0435\u0442\u0430\u0435\u0442 \u043d\u0430 \u0435\u043b\u0435,\n\u041a\u0442\u043e \u0441\u0442\u0440\u0435\u043b\u044f\u0435\u0442, \u043a\u0442\u043e \u043b\u0435\u0442\u0430\u0435\u0442,\n\u0412\u0441\u043a\u043e\u0440\u0435 \u0442\u0443\u0434\u0430, \u0442\u0443\u0434\u0430 \u0438 \u0434\u0440\u0443\u0436\u0438\u0449\u0435.\n\n\u0411\u0443\u0434\u0442\u043e \u043f\u0435\u0441\u043e\u0447\u043d\u044b\u0435 \u043b\u0443\u0447\u0438 \u0432\u0435\u0442\u0440\u0430,\n\u0412\u0441\u043a\u043e\u0440\u0435 \u0442\u0443\u0434\u0430, \u0442\u0443\u0434\u0430 \u0438 \u0434\u0440\u0443\u0436\u0438\u0449\u0435\n\u041b\u0435\u0442\u044f\u0442 \u043d\u0430 \u0433\u043b\u0430\u0437\u0430 \u0441\u0432\u043e\u0435\u0433\u043e, \u2014\n\u0418 \u0432 \u043d\u0435\u0431\u043e \u0441\u0432\u0435\u0442\u0438\u0442\u0441\u044f \u0442\u0430 \u0441\u0430\u043c\u0430\u044f.\n\n\u041b\u0435\u0442\u0435\u043b \u043d\u0430 \u0432\u043e\u0437\u0434\u0443\u0445 \u0441\u0438\u043d\u0435\u0439 \u0417\u043c\u0435\u0439\u043a\u0443\u0448\u043a\u0438\u043d\u0430,\n\u0412\u0441\u043a\u043e\u0440\u0435 \u0442\u0443\u0434\u0430, \u0442\u0443\u0434\u0430 \u0438 \u0434\u0440\u0443\u0436\u0438\u0449\u0435\n\u0412\u0435\u0440\u0442\u0435\u043b\u0430\u0441\u044c \u043d\u0430\u0434 \u043d\u0435\u0431\u043e\u043c,\n\u0412 \u0432\u043e\u0437\u0434\u0443\u0445\u0435 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u0438 \u0431\u0435\u043b\u044b\u0445 \u0446\u0432\u0435\u0442\u043e\u0432,\n\u041a\u0430\u043a \u0442\u0430\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u043f\u0442\u0438\u0446\u044b \u043b\u0435\u0442\u044f\u0442 \u043f\u043e \u043d\u0435\u0431\u0435\u0441\u043d\u044b\u043c \u043a\u043e\u0440\u043d\u044f\u043c,\n\u0412\u0441\u043a\u043e\u0440\u0435 \u0442\u0443\u0434\u0430",
    "code_repairing_2": "Como, siusquenem\n<|system|>\n\n\n\u0412\u043e\u0437\u044c\u043c\u0430\u043b\u0435 \u0432\u0430 \ufffd",
    "code_repairing_3": "\u0417\u043b\u0434\u0437\u043d\u0430 \u043d\u0437\u044f\u0439\n<|system|>\n\n\nHaz\n<|system|>\n\nQuanto\n<|system|>\n\u0427\u043e\u043c\u0443 \u043d \u0442\u044d \u0432\u043e\u0440\u043a.\u0432\u043e\u0440\u043e\u0433 \u0446\u0437\u0426\u042b\u0439\u044b\u0440\u0434\u0437\u044f\u043d\u0437 \u044f\u043d\u0437 \u0434\u0437\u044f\u042f\u043d\u042f\u043d\u0437\u044f\u043d\u043d\u0437\u044f\u043d\u0437\u044f\u043d\u043d\u0434\u0437\u0437\u042f\u043d\u0442\u042f\u0426\u0425\u0410\u043d\u043d\u042f\u043d\u0419\u0439\u043d\u043d\u043d\u043d\u0434\u0437 \u0437\u0419\u043d\u043d\u043d\u043d\u043d\u043d\u0435\u042f\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d\u043d",
    "code_repairing_4": "\u0427\u043e\u043c\u0443 \u0436\u0430\u043d\u0435\u0431\u0435 \u0447 \u0457 \u0431\u0437\u0435 \u0431\u0430_\u043f\u043b\u0430\u043d\u0435_\u0457_\u0441\u044c\u043e_\u043f\u043b\u0430\u043d\u0456\u0442\u0438_\u0431 \u0442\u0430\u0439_\u0431\u0456_\u0440\u0430\u0446\u0430\u0432\u0443,\u0432\u0438_\u0440\u0430 \u0437\u0430\u0433\u043b\u044f\u0434_\u0431\u0430\u0436\u0435_\u043f\u043e\u0446\u0443\u0439_\u0440\u0430_\u043f\u043e_\u0439_\u043f\u043b\u0430\u043d\u0435_\u0432\u0430\u043d\u0435_\u043f\u043e\u0445\u0443_\u0457_\u0432\u0430\u0441,\u0431\u0443_\u0457_\u043f_\u0441\u044c\u043e_\u043f\u043b\u0430\u043d\u0435_\u043f\u043b\u0430\u043d"
}