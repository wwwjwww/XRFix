{
    "code_repairing_0": "```csharp\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class OVRHeadsetEmulator : MonoBehaviour\n{\n\tpublic enum OpMode\n\t{\n\t\tOff,\n\t\tEditorOnly,\n\t\tAlwaysOn\n\t}\n\n\tpublic OpMode opMode = OpMode.EditorOnly;\n\tpublic bool resetHmdPoseOnRelease = true;\n\tpublic bool resetHmdPoseByMiddleMouseButton = true;\n\n\tpublic KeyCode[] activateKeys = new KeyCode[] { KeyCode.LeftControl, KeyCode.RightControl };\n\n\tpublic KeyCode[] pitchKeys = new KeyCode[] { KeyCode.LeftAlt, KeyCode.RightAlt };\n\n\tOVRManager manager;\n\n\tconst float MOUSE_SCALE_X = -2.0f;\n\tconst float MOUSE_SCALE_X_PITCH = -2.0f;\n\tconst float MOUSE_SCALE_Y = 2.0f;\n\tconst float MOUSE_SCALE_HEIGHT = 1.0f;\n\tconst float MAX_ROLL = 85.0f;\n\n\tprivate bool lastFrameEmulationActivated = false;\n\n\tprivate Vector3 recordedHeadPoseRelativeOffsetTranslation;\n\tprivate Vector3 recordedHeadPoseRelativeOffsetRotation;\n\n\tprivate bool hasSentEvent = false;\n\tprivate bool emulatorHasInitialized = false;\n\n\tprivate CursorLockMode previousCursorLockMode = CursorLockMode.None;\n\n\n\tvoid Start()\n\t{\n\t}\n\n\n\tvoid Update()\n\t{\n\t\tif (!emulatorHasInitialized)\n\t\t{\n\t\t\tif (OVRManager.OVRManagerinitialized)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tmanager = OVRManager.instance;\n\t\t\t\trecordedHeadPoseRelativeOffsetTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\trecordedHeadPoseRelativeOffsetRotation = manager.headPoseRelativeOffsetRotation;\n\t\t\t\temulatorHasInitialized = true;\n\t\t\t\tlastFrameEmulationActivated = false;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn;\n\t\t}\n\t\tbool emulationActivated = IsEmulationActivated();\n\t\tif (emulationActivated)\n\t\t{\n\t\t\tif (!lastFrameEmulationActivated)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tCursor.lockState = CursorLockMode.Locked;\n\t\t\t}\n\n\t\t\tif (!lastFrameEmulationActivated && resetHmdPoseOnRelease)\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = recordedHeadPoseRelativeOffsetTranslation;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = recordedHeadPoseRelativeOffsetRotation;\n\t\t\t}\n\n\t\t\tif (resetHmdPoseByMiddleMouseButton && Input.GetMouseButton(2))\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = Vector3.zero;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = Vector3.zero;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tVector3 emulatedTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\tfloat deltaMouseScrollWheel = Input.GetAxis(\"Mouse ScrollWheel\");\n\t\t\t\tfloat emulatedHeight = deltaMouseScrollWheel * MOUSE_SCALE_HEIGHT;\n\t\t\t\temulatedTranslation.y += emulatedHeight;\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = emulatedTranslation;\n\n\t\t\t\tfloat deltaX = Input.GetAxis(\"Mouse X\");\n\t\t\t\tfloat deltaY = Input.GetAxis(\"Mouse Y\");\n\n\t\t\t\tVector3 emulatedAngles = manager.headPoseRelativeOffsetRotation;\n\t\t\t\tfloat emulatedRoll = emulatedAngles.x;\n\t\t\t\tfloat emulatedYaw = emulatedAngles.y;\n\t\t\t\tfloat emulatedPitch = emulatedAngles.z;\n\t\t\t\tif (IsTweakingPitch())\n\t\t\t\t{\n\t\t\t\t\temulatedPitch += deltaX * MOUSE_SCALE_X_PITCH;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\temulatedRoll += deltaY * MOUSE_SCALE_Y;\n\t\t\t\t\temulatedYaw += deltaX * MOUSE_SCALE_X;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (lastFrameEmulationActivated)\n\t\t\t{\n\t\t\t\tCursor.lockState = previousCursorLockMode;\n\t\t\t}\n\t\t}\n\t\tlastFrameEmulationActivated = emulationActivated;\n\t}\n\n\tbool IsEmulationActivated()\n\t{\n\t\tif (opMode == OpMode.AlwaysOn)\n\t\t\treturn true;\n\n\t\tforeach (KeyCode key in activateKeys)\n\t\t{\n\t\t\tif (Input.GetKey(key))\n\t\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tbool IsTweakingPitch()\n\t{\n\t\tforeach (KeyCode key in pitchKeys)\n\t\t{\n\t\t\tif (Input.GetKey(key))\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}",
    "code_repairing_1": "```\nusing UnityEngine;\n\npublic class OVRHeadsetEmulator : MonoBehaviour\n{\n\tpublic enum OpMode\n\t{\n\t\tOff,\n\t\tEditorOnly,\n\t\tAlwaysOn\n\t}\n\n\tpublic OpMode opMode = OpMode.EditorOnly;\n\tpublic bool resetHmdPoseOnRelease = true;\n\tpublic bool resetHmdPoseByMiddleMouseButton = true;\n\n\tpublic KeyCode[] activateKeys = new KeyCode[] { KeyCode.LeftControl, KeyCode.RightControl };\n\n\tpublic KeyCode[] pitchKeys = new KeyCode[] { KeyCode.LeftAlt, KeyCode.RightAlt };\n\n\tOVRManager manager;\n\n\tconst float MOUSE_SCALE_X = -2.0f;\n\tconst float MOUSE_SCALE_X_PITCH = -2.0f;\n\tconst float MOUSE_SCALE_Y = 2.0f;\n\tconst float MOUSE_SCALE_HEIGHT = 1.0f;\n\tconst float MAX_ROLL = 85.0f;\n\n\tprivate bool lastFrameEmulationActivated = false;\n\n\tprivate Vector3 recordedHeadPoseRelativeOffsetTranslation;\n\tprivate Vector3 recordedHeadPoseRelativeOffsetRotation;\n\n\tprivate bool hasSentEvent = false;\n\tprivate bool emulatorHasInitialized = false;\n\n\tprivate CursorLockMode previousCursorLockMode = CursorLockMode.None;\n\n\tvoid Start()\n\t{\n\t}\n\n\tvoid Update()\n\t{\n\t\tif (!emulatorHasInitialized)\n\t\t{\n\t\t\tif (OVRManager.OVRManagerinitialized)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tmanager = OVRManager.instance;\n\t\t\t\trecordedHeadPoseRelativeOffsetTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\trecordedHeadPoseRelativeOffsetRotation = manager.headPoseRelativeOffsetRotation;\n\t\t\t\temulatorHasInitialized = true;\n\t\t\t\tlastFrameEmulationActivated = false;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn;\n\t\t}\n\t\tbool emulationActivated = IsEmulationActivated();\n\t\tif (emulationActivated)\n\t\t{\n\t\t\tif (!lastFrameEmulationActivated)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tCursor.lockState = CursorLockMode.Locked;\n\t\t\t}\n\n\t\t\tif (!lastFrameEmulationActivated && resetHmdPoseOnRelease)\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = recordedHeadPoseRelativeOffsetTranslation;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = recordedHeadPoseRelativeOffsetRotation;\n\t\t\t}\n\n\t\t\tif (resetHmdPoseByMiddleMouseButton && Input.GetMouseButton(2))\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = Vector3.zero;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = Vector3.zero;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tVector3 emulatedTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\tfloat deltaMouseScrollWheel = Input.GetAxis(\"Mouse ScrollWheel\");\n\t\t\t\tfloat emulatedHeight = deltaMouseScrollWheel * MOUSE_SCALE_HEIGHT;\n\t\t\t\temulatedTranslation.y += emulatedHeight;\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = emulatedTranslation;\n\n\t\t\t\tfloat deltaX = Input.GetAxis(\"Mouse X\");\n\t\t\t\tfloat deltaY = Input.GetAxis(\"Mouse Y\");\n\n\t\t\t\tVector3 emulatedAngles = manager.headPoseRelativeOffsetRotation;\n\t\t\t\tfloat emulatedRoll = emulatedAngles.x;\n\t\t\t\tfloat emulatedYaw = emulatedAngles.y;\n\t\t\t\tfloat emulatedPitch = emulatedAngles.z;\n\t\t\t\tif (IsTweakingPitch())\n\t\t\t\t{\n\t\t\t\t\temulatedPitch += deltaX * MOUSE_SCALE_X_PITCH;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\temulatedRoll += deltaY * MOUSE_SCALE_Y;\n\t\t\t\t\temulatedYaw += deltaX * MOUSE_SCALE_X;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (lastFrameEmulationActivated)\n\t\t{\n\t\t\tif (Cursor.lockState!= previousCursorLockMode)\n\t\t\t{\n\t\t\t\t// If the user manually unlocks the cursor while emulation is active, reset the head pose.\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = recordedHeadPoseRelativeOffsetTranslation;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = recordedHeadPoseRelativeOffsetRotation;\n\t\t\t}\n\t\t}\n\t\tlastFrameEmulationActivated = emulationActivated;\n\t}\n\n\tbool IsEmulationActivated()\n\t{\n\t\treturn (Application.isEditor && opMode == OpMode.AlwaysOn) ||\n\t\t\t\t((!Application.isEditor || opMode == OpMode.EditorOnly) && (Input.GetKey(activateKeys[0]) || Input.GetKey(activateKeys[1])));\n\t}\n\n\tbool IsTweakingPitch",
    "code_repairing_2": "```csharp\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class OVRHeadsetEmulator : MonoBehaviour {\n\tpublic enum OpMode\n\t{\n\t\tOff,\n\t\tEditorOnly,\n\t\tAlwaysOn\n\t}\n\n\tpublic OpMode opMode = OpMode.EditorOnly;\n\tpublic bool resetHmdPoseOnRelease = true;\n\tpublic bool resetHmdPoseByMiddleMouseButton = true;\n\n\tpublic KeyCode[] activateKeys = new KeyCode[] { KeyCode.LeftControl, KeyCode.RightControl };\n\n\tpublic KeyCode[] pitchKeys = new KeyCode[] { KeyCode.LeftAlt, KeyCode.RightAlt };\n\n\tOVRManager manager;\n\n\tconst float MOUSE_SCALE_X = -2.0f;\n\tconst float MOUSE_SCALE_X_PITCH = -2.0f;\n\tconst float MOUSE_SCALE_Y = 2.0f;\n\tconst float MOUSE_SCALE_HEIGHT = 1.0f;\n\tconst float MAX_ROLL = 85.0f;\n\n\tprivate bool lastFrameEmulationActivated = false;\n\n\tprivate Vector3 recordedHeadPoseRelativeOffsetTranslation;\n\tprivate Vector3 recordedHeadPoseRelativeOffsetRotation;\n\n\tprivate bool hasSentEvent = false;\n\tprivate bool emulatorHasInitialized = false;\n\n\tprivate CursorLockMode previousCursorLockMode = CursorLockMode.None;\n\n\tvoid Start()\n\t{\n\t}\n\n\tvoid Update()\n\t{\n\t\tif (!emulatorHasInitialized)\n\t\t{\n\t\t\tif (OVRManager.OVRManagerinitialized)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tmanager = OVRManager.instance;\n\t\t\t\trecordedHeadPoseRelativeOffsetTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\trecordedHeadPoseRelativeOffsetRotation = manager.headPoseRelativeOffsetRotation;\n\t\t\t\temulatorHasInitialized = true;\n\t\t\t\tlastFrameEmulationActivated = false;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn;\n\t\t}\n\t\tbool emulationActivated = IsEmulationActivated();\n\t\tif (emulationActivated)\n\t\t{\n\t\t\tif (!lastFrameEmulationActivated)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tCursor.lockState = CursorLockMode.Locked;\n\t\t\t}\n\n\t\t\tif (!lastFrameEmulationActivated && resetHmdPoseOnRelease)\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = recordedHeadPoseRelativeOffsetTranslation;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = recordedHeadPoseRelativeOffsetRotation;\n\t\t\t}\n\n\t\t\tif (resetHmdPoseByMiddleMouseButton && Input.GetMouseButton(2))\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = Vector3.zero;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = Vector3.zero;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tVector3 emulatedTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\tfloat deltaMouseScrollWheel = Input.GetAxis(\"Mouse ScrollWheel\");\n\t\t\t\tfloat emulatedHeight = deltaMouseScrollWheel * MOUSE_SCALE_HEIGHT;\n\t\t\t\temulatedTranslation.y += emulatedHeight;\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = emulatedTranslation;\n\n\t\t\t\tfloat deltaX = Input.GetAxis(\"Mouse X\");\n\t\t\t\tfloat deltaY = Input.GetAxis(\"Mouse Y\");\n\n\t\t\t\tVector3 emulatedAngles = manager.headPoseRelativeOffsetRotation;\n\t\t\t\tfloat emulatedRoll = emulatedAngles.x;\n\t\t\t\tfloat emulatedYaw = emulatedAngles.y;\n\t\t\t\tfloat emulatedPitch = emulatedAngles.z;\n\t\t\t\tif (IsTweakingPitch())\n\t\t\t\t{\n\t\t\t\t\temulatedPitch += deltaX * MOUSE_SCALE_X_PITCH;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\temulatedRoll += deltaY * MOUSE_SCALE_Y;\n\t\t\t\t\temulatedYaw += deltaX * MOUSE_SCALE_X;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (lastFrameEmulationActivated)\n\t\t\t{\n\t\t\t\tCursor.lockState = previousCursorLockMode;\n\t\t\t}\n\t\t}\n\t\tlastFrameEmulationActivated = emulationActivated;\n\t}\n\n\tprivate bool IsEmulationActivated()\n\t{\n\t\tif (opMode == OpMode.AlwaysOn)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t\telse if (opMode == OpMode.EditorOnly)\n\t\t{\n\t\t\treturn Application.isEditor;\n\t\t}\n\t\treturn false;\n\t}\n\n\tprivate bool IsTweakingPitch()\n\t{\n\t\tfor (int i = 0; i < pitchKeys.Length; i++)\n\t\t{\n\t\t\tif (Input.GetKey(pitchKeys[i]))\n\t\t\t{",
    "code_repairing_3": "Here is your fixed code:\n\n\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class OVRHeadsetEmulator : MonoBehaviour {\n\tpublic enum OpMode\n\t{\n\t\tOff,\n\t\tEditorOnly,\n\t\tAlwaysOn\n\t}\n\n\tpublic OpMode opMode = OpMode.EditorOnly;\n\tpublic bool resetHmdPoseOnRelease = true;\n\tpublic bool resetHmdPoseByMiddleMouseButton = true;\n\n\tpublic KeyCode[] activateKeys = new KeyCode[] { KeyCode.LeftControl, KeyCode.RightControl };\n\n\tpublic KeyCode[] pitchKeys = new KeyCode[] { KeyCode.LeftAlt, KeyCode.RightAlt };\n\n\tOVRManager manager;\n\n\tconst float MOUSE_SCALE_X = -2.0f;\n\tconst float MOUSE_SCALE_X_PITCH = -2.0f;\n\tconst float MOUSE_SCALE_Y = 2.0f;\n\tconst float MOUSE_SCALE_HEIGHT = 1.0f;\n\tconst float MAX_ROLL = 85.0f;\n\n\tprivate bool lastFrameEmulationActivated = false;\n\n\tprivate Vector3 recordedHeadPoseRelativeOffsetTranslation;\n\tprivate Vector3 recordedHeadPoseRelativeOffsetRotation;\n\n\tprivate bool hasSentEvent = false;\n\tprivate bool emulatorHasInitialized = false;\n\n\tprivate CursorLockMode previousCursorLockMode = CursorLockMode.None;\n\n\tvoid Start() {\n\t\tif (!emulatorHasInitialized)\n\t\t{\n\t\t\tif (OVRManager.OVRManagerinitialized)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tmanager = OVRManager.instance;\n\t\t\t\trecordedHeadPoseRelativeOffsetTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\trecordedHeadPoseRelativeOffsetRotation = manager.headPoseRelativeOffsetRotation;\n\t\t\t\temulatorHasInitialized = true;\n\t\t\t\tlastFrameEmulationActivated = false;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn;\n\t\t}\n\t}\n\n\tvoid Update() {\n\t\tbool emulationActivated = IsEmulationActivated();\n\t\tif (emulationActivated)\n\t\t{\n\t\t\tif (!lastFrameEmulationActivated)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tCursor.lockState = CursorLockMode.Locked;\n\t\t\t}\n\n\t\t\tif (!lastFrameEmulationActivated && resetHmdPoseOnRelease)\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = recordedHeadPoseRelativeOffsetTranslation;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = recordedHeadPoseRelativeOffsetRotation;\n\t\t\t}\n\n\t\t\tif (resetHmdPoseByMiddleMouseButton && Input.GetMouseButton(2))\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = Vector3.zero;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = Vector3.zero;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tVector3 emulatedTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\tfloat deltaMouseScrollWheel = Input.GetAxis(\"Mouse ScrollWheel\");\n\t\t\t\tfloat emulatedHeight = deltaMouseScrollWheel * MOUSE_SCALE_HEIGHT;\n\t\t\t\temulatedTranslation.y += emulatedHeight;\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = emulatedTranslation;\n\n\t\t\t\tfloat deltaX = Input.GetAxis(\"Mouse X\");\n\t\t\t\tfloat deltaY = Input.GetAxis(\"Mouse Y\");\n\n\t\t\t\tVector3 emulatedAngles = manager.headPoseRelativeOffsetRotation;\n\t\t\t\tfloat emulatedRoll = emulatedAngles.x;\n\t\t\t\tfloat emulatedYaw = emulatedAngles.y;\n\t\t\t\tfloat emulatedPitch = emulatedAngles.z;\n\t\t\t\tif (IsTweakingPitch())\n\t\t\t\t{\n\t\t\t\t\temulatedPitch += deltaX * MOUSE_SCALE_X_PITCH;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\temulatedRoll += deltaY * MOUSE_SCALE_Y;\n\t\t\t\t\temulatedYaw += deltaX * MOUSE_SCALE_X;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (lastFrameEmulationActivated)\n\t\t\t{\n\t\t\t\tCursor.lockState = previousCursorLockMode;\n\t\t\t}\n\t\t}\n\n\t\tlastFrameEmulationActivated = emulationActivated;\n\t}\n\n\tbool IsEmulationActivated()\n\t{\n\t\tswitch (opMode)\n\t\t{\n\t\t\tcase OpMode.AlwaysOn:\n\t\t\t\treturn true;\n\t\t\tcase OpMode.EditorOnly:\n\t\t\t\treturn Application.isEditor;\n\t\t\tdefault:\n\t\t\t\treturn false;\n\t\t}\n\t}\n\n\tbool IsTweakingPitch()\n\t{\n\t\tfor (int i = 0; i < pitchKeys.Length; i++)\n\t\t{\n\t\t\tif (Input.GetKey(pitchKeys[i]))\n\t\t\t{\n\t\t\t\treturn true;",
    "code_repairing_4": "```C#\nusing System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\n\npublic class OVRHeadsetEmulator : MonoBehaviour\n{\n\tpublic enum OpMode\n\t{\n\t\tOff,\n\t\tEditorOnly,\n\t\tAlwaysOn\n\t}\n\n\tpublic OpMode opMode = OpMode.EditorOnly;\n\tpublic bool resetHmdPoseOnRelease = true;\n\tpublic bool resetHmdPoseByMiddleMouseButton = true;\n\n\tpublic KeyCode[] activateKeys = new KeyCode[] { KeyCode.LeftControl, KeyCode.RightControl };\n\n\tpublic KeyCode[] pitchKeys = new KeyCode[] { KeyCode.LeftAlt, KeyCode.RightAlt };\n\n\tOVRManager manager;\n\n\tconst float MOUSE_SCALE_X = -2.0f;\n\tconst float MOUSE_SCALE_X_PITCH = -2.0f;\n\tconst float MOUSE_SCALE_Y = 2.0f;\n\tconst float MOUSE_SCALE_HEIGHT = 1.0f;\n\tconst float MAX_ROLL = 85.0f;\n\n\tprivate bool lastFrameEmulationActivated = false;\n\n\tprivate Vector3 recordedHeadPoseRelativeOffsetTranslation;\n\tprivate Vector3 recordedHeadPoseRelativeOffsetRotation;\n\n\tprivate bool hasSentEvent = false;\n\tprivate bool emulatorHasInitialized = false;\n\n\tprivate CursorLockMode previousCursorLockMode = CursorLockMode.None;\n\n\n\tvoid Start()\n\t{\n\t}\n\n\n\tvoid Update()\n\t{\n\t\tif (!emulatorHasInitialized)\n\t\t{\n\t\t\tif (OVRManager.OVRManagerinitialized)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tmanager = OVRManager.instance;\n\t\t\t\trecordedHeadPoseRelativeOffsetTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\trecordedHeadPoseRelativeOffsetRotation = manager.headPoseRelativeOffsetRotation;\n\t\t\t\temulatorHasInitialized = true;\n\t\t\t\tlastFrameEmulationActivated = false;\n\t\t\t}\n\t\t\telse\n\t\t\t\treturn;\n\t\t}\n\t\tbool emulationActivated = IsEmulationActivated();\n\t\tif (emulationActivated)\n\t\t{\n\t\t\tif (!lastFrameEmulationActivated)\n\t\t\t{\n\t\t\t\tpreviousCursorLockMode = Cursor.lockState;\n\t\t\t\tCursor.lockState = CursorLockMode.Locked;\n\t\t\t}\n\n\t\t\tif (!lastFrameEmulationActivated && resetHmdPoseOnRelease)\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = recordedHeadPoseRelativeOffsetTranslation;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = recordedHeadPoseRelativeOffsetRotation;\n\t\t\t}\n\n\t\t\tif (resetHmdPoseByMiddleMouseButton && Input.GetMouseButton(2))\n\t\t\t{\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = Vector3.zero;\n\t\t\t\tmanager.headPoseRelativeOffsetRotation = Vector3.zero;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tVector3 emulatedTranslation = manager.headPoseRelativeOffsetTranslation;\n\t\t\t\tfloat deltaMouseScrollWheel = Input.GetAxis(\"Mouse ScrollWheel\");\n\t\t\t\tfloat emulatedHeight = deltaMouseScrollWheel * MOUSE_SCALE_HEIGHT;\n\t\t\t\temulatedTranslation.y += emulatedHeight;\n\t\t\t\tmanager.headPoseRelativeOffsetTranslation = emulatedTranslation;\n\n\t\t\t\tfloat deltaX = Input.GetAxis(\"Mouse X\");\n\t\t\t\tfloat deltaY = Input.GetAxis(\"Mouse Y\");\n\n\t\t\t\tVector3 emulatedAngles = manager.headPoseRelativeOffsetRotation;\n\t\t\t\tfloat emulatedRoll = emulatedAngles.x;\n\t\t\t\tfloat emulatedYaw = emulatedAngles.y;\n\t\t\t\tfloat emulatedPitch = emulatedAngles.z;\n\t\t\t\tif (IsTweakingPitch())\n\t\t\t\t{\n\t\t\t\t\temulatedPitch += deltaX * MOUSE_SCALE_X_PITCH;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\temulatedRoll += deltaY * MOUSE_SCALE_Y;\n\t\t\t\t\temulatedYaw += deltaX * MOUSE_SCALE_X;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate bool IsEmulationActivated()\n\t{\n\t\tbool emulationActivated = false;\n\t\tif (opMode == OpMode.AlwaysOn)\n\t\t\temulationActivated = true;\n\t\telse if (opMode == OpMode.EditorOnly)\n\t\t\temulationActivated = Application.isEditor;\n\n\t\tforeach (KeyCode keyCode in activateKeys)\n\t\t{\n\t\t\tif (Input.GetKey(keyCode))\n\t\t\t{\n\t\t\t\temulationActivated = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn emulationActivated;\n\t}\n\n\tprivate bool IsTweakingPitch()\n\t{\n\t\tbool isTweakingPitch = false;\n\t\tforeach (KeyCode keyCode in pitchKeys)\n\t\t{\n\t\t\tif (Input.GetKey(keyCode))"
}